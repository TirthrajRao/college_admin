<div class="row full-height">

  <div class="col-md-12 col-xs-12">

    <div class="w3-padding-16 w3-container w3-light-grey">
      <h2 class="w3-center text-primary tahoma letter-spacing-2"><u>Generate Transfer Certificate</u></h2>

      <div class="col-md-6 col-md-offset-3">
        <form ng-submit="getStudentByGrno(grno)" id="bonafiteForm">
          <select class="form-control margin-top-10" ng-model="x['course']" required ng-options="courses.courseid for courses in courses" ng-change="getStudentsByCourse(x['course'])">
            <option value="" selected disabled>Select Course</option>
          </select>

          <input class="form-control margin-top-10 " list="students" placeholder="Search with G.R.NO of student" ng-model="grno" multiple>

          <datalist id="students" >
            <option  value="{{x.grno}}"  ng-repeat="x in students">{{x.name}} - {{x.courseid}}-sem-{{x.sem}}</option>
          </datalist>
          <div class="w3-center margin-top-10">
            <button class="btn btn-success" type="submit"><i class="fa fa-file-text-o"></i> Generate Transfer Certificate</button>
          </div>
        </form>

        <div class="alert alert-print w3-custom-red w3-text-white fade in">
          <span><strong>Error!</strong> Please click on Print Trransfer Certificate button below.</span>
          <a class="close-red-alert w3-right" aria-label="close">&times;</a>
        </div>

      </div>
    </div>


    <div>
      <div class="container" contenteditable="true" ng-show="student">

        <div class="margin-top-bottom-20"></div>

        <div class="w3-center">
          <span class="round_border">Transfer Certificate</span>
        </div>

        <div class="margin-top-bottom-20"></div>

        <div>
          <span class="margin-left-50 w3-left">TNR / TC/   /20   </span>

        </div>

        <div class="margin-top-bottom-70"></div>

        <div class="margin-left-right-50 info">
          <span class="w3-text-black">Certified that Mr./Miss <label class="bold-Label">{{student.name}}</label> was a student of this college. Since passing the <label class="bold-Label">_____</label> Examination. {{student.hello1}} has kept <label class="bold-Label">____</label> terms in this college as on
            June 20_____  to  October 20_____ .<br> {{student.hello1}} passed/failed at the <label class="bold-Label">____</label> Examination in 20_____.</br> {{student.hello2}} conduct and character is good.</br> {{student.hello2}} birth date as entered in the College-register is <label class="bold-Label">{{student.dob}}</label>.</br> {{student.hello1}} attended courses of instruction at this college in <label class="bold-Label">{{student.courseid}}</label>. <br>{{student.hello2}} special faculty was <label class="bold-Label">{{student.courseid}}</label>.<br>{{student.hello2}}Enrollment/Eligibility Number is <label class="bold-Label">{{student.enrollment}}</label> .</br> {{student.hello1}} was admitted in this college in <label class="bold-Label">_____</label>.<br>  </span>

            <div class="margin-top-bottom-30"></div>
            <span class="w3-text-black">Forwarded with Compliments to the Principal, Registrar _________________ College/University __________________ </span>
          </div>

          <div class="margin-top-bottom-40"></div>

          <div>
            <span class="margin-left-50 w3-left">Date : {{date | date:'yyyy-MM-dd'}}</span>
            <span class="margin-right-50 w3-right">Principal</span>
          </div>

        </div>
        <div class="w3-center margin-top-bottom-40 print_hide" ng-show="student">
          <button onclick="printBonafide()" ng-click="generateCertificate(student.sid)" class="btn btn-primary btn-lg" > Print Trasfer Certifiate of {{student.name}}</button>
        </div>
      </div>
    </div>
  </div>
</div>


<script>
$(document).on("keyup keydown", function(e){
  if(e.ctrlKey && e.keyCode == 80){
    $('.alert-print').show();
    return false;
  }
});
function printBonafide(){
  window.print();
}

$(document).ready(function(){

  $('.close-blue-alert').click(function() {

    $('.w3-custom-blue').hide();
  })
  $('.close-red-alert').click(function() {

    $('.w3-custom-red').hide();
  })
  
});
</script>
